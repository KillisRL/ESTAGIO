<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BarbeariaMatutosApp.Views.pgLoginBarbearia"
             xmlns:converters="clr-namespace:BarbeariaMatutosApp.Converters"
             Title="pgLoginBarbearia"
             WidthRequest="400"
            HeightRequest="900">

    <ContentPage.Resources>
        <converters:InvertBooleanConverter x:Key="InvertBool" />
    </ContentPage.Resources>

    <StackLayout Padding="20" VerticalOptions="Center">
        <Frame CornerRadius="10" BackgroundColor="Black">
            <StackLayout>
                <Label Text="Login" FontSize="40" HorizontalTextAlignment="Center"/>

                <StackLayout>
                    <Label Text="E-mail:" Margin="0,0,20,0"/>
                    <Entry Placeholder="E-mail" 
                           Text="{Binding Email}" />

                    <Label Text="Senha:"/>
                    <Entry Placeholder="Senha" 
                           Text="{Binding Senha}" 
                           IsPassword="{Binding MostrarSenha, Converter={StaticResource InvertBool}}" />

                    <StackLayout Orientation="Horizontal">
                        <CheckBox Color="Blue" 
                                  IsChecked="{Binding MostrarSenha}" />

                        <Label Text="Mostrar Senha" 
                               VerticalTextAlignment="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding ToggleMostrarSenhaCommand}" />
                            </Label.GestureRecognizers>
                        </Label>
                    </StackLayout>

                    <Button Text="Entrar" 
                            Command="{Binding LoginCommand}" 
                            Margin="0,20,0,0" 
                            HorizontalOptions="Center"/>

                    <Label HorizontalOptions="Center" Margin="0,10,0,0">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span Text="NÃ£o possui uma conta? "/>
                                <Span Text="Cadastre-se" 
                                      FontAttributes="Bold" 
                                      TextColor="LightBlue" 
                                      TextDecorations="Underline"/>
                            </FormattedString>
                        </Label.FormattedText>
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding IrParaCadastroCommand}" />
                        </Label.GestureRecognizers>
                    </Label>
                </StackLayout>
            </StackLayout>
        </Frame>
    </StackLayout>
</ContentPage>